<!DOCTYPE html>
<html lang="ko-kr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script type="application/javascript" src='https://joungsik.github.io/js/theme-mode.js'></script>
    <link rel="stylesheet" href='https://joungsik.github.io/css/frameworks.min.css' />
    <link rel="stylesheet" href='https://joungsik.github.io/css/github.min.css' />
    <link rel="stylesheet" href='https://joungsik.github.io/css/github-style.css' />
    <link rel="stylesheet" href='https://joungsik.github.io/css/light.css' />
    <link rel="stylesheet" href='https://joungsik.github.io/css/dark.css' />
    <link rel="stylesheet" href='https://joungsik.github.io/css/syntax.css' />
    <title>토비의 스프링 - 2장 - JoungSik</title>
    
    <link rel="icon" type="image/x-icon" href='/images/github.png'>
    
    <meta name="theme-color" content="#1e2327">
    <meta name="naver-site-verification" content="897620aba8ba7aa292baac576c13b337c3c0b021" />

    
    <meta name="description"
  content="토비의 스프링 - 2장" />
<meta name="keywords"
  content='spring' />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://joungsik.github.io/post/2021_12_14/" />


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="토비의 스프링 - 2장 - JoungSik" />
<meta name="twitter:description"
  content="토비의 스프링 - 2장" />
<meta name="twitter:site" content="https://joungsik.github.io/" />
<meta name="twitter:creator" content="" />
<meta name="twitter:image"
  content="https://joungsik.github.io/">


<meta property="og:type" content="article" />
<meta property="og:title" content="토비의 스프링 - 2장 - JoungSik">
<meta property="og:description"
  content="토비의 스프링 - 2장" />
<meta property="og:url" content="https://joungsik.github.io/post/2021_12_14/" />
<meta property="og:site_name" content="토비의 스프링 - 2장" />
<meta property="og:image"
  content="https://joungsik.github.io/">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2021-12-14 23:02:34 &#43;0900 KST" />











<script async src="https://www.googletagmanager.com/gtag/js?id=G-DL4SWDGV72"></script>
<script>
  if (navigator.doNotTrack !== '1') {
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-DL4SWDGV72');
  }
</script>



</head>

<body>
  <div style="position: relative">
  <header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on">
    <div class="Header-item mobile-none" style="margin-top: -4px; margin-bottom: -4px;">
      <a class="Header-link" href="https://joungsik.github.io/">
        <svg class="octicon" height="32" viewBox="0 0 16 16" version="1.1" width="32">
          <path fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
          </path>
        </svg>
      </a>
    </div>
    <div class="Header-item d-md-none">
      <button class="Header-link btn-link js-details-target" type="button"
        onclick="document.querySelector('#header-search').style.display = document.querySelector('#header-search').style.display == 'none'? 'block': 'none'">
        <svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" version="1.1" width="24">
          <path fill-rule="evenodd"
            d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z">
          </path>
        </svg>
      </button>
    </div>
    <div style="display: none;" id="header-search"
      class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex">
      <div
        class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to">
        <div class="position-relative">
          <form target="_blank" action="https://www.google.com/search" accept-charset="UTF-8" method="get"
            autocomplete="off">
            <label
              class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center">
              <input type="text"
                class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
                name="q" value="" placeholder="Search" autocomplete="off">
              <input type="hidden" name="q" value="site:https://joungsik.github.io/">
            </label>
          </form>
        </div>
      </div>
    </div>

    <div class="Header-item Header-item--full flex-justify-center d-md-none position-relative">
      <a class="Header-link " href="https://joungsik.github.io/">
        <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1"
          width="32">
          <path fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
          </path>
        </svg>
      </a>
    </div>
    <div class="Header-item" style="margin-right: 0;">
      <a href="javascript:void(0)" class="Header-link no-select" onclick="switchTheme()">
        <svg style="fill: var(--color-profile-color-modes-toggle-moon);" class="no-select" viewBox="0 0 16 16"
          version="1.1" width="16" height="16">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M4.52208 7.71754C7.5782 7.71754 10.0557 5.24006 10.0557 2.18394C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961C9.95801 1.07727 10.3495 0.771159 10.6474 0.99992C12.1153 2.12716 13.0615 3.89999 13.0615 5.89383C13.0615 9.29958 10.3006 12.0605 6.89485 12.0605C3.95334 12.0605 1.49286 10.001 0.876728 7.24527C0.794841 6.87902 1.23668 6.65289 1.55321 6.85451C2.41106 7.40095 3.4296 7.71754 4.52208 7.71754Z">
          </path>
        </svg>
      </a>
    </div>
  </header>
</div>
  
<div>
  <main>
    <div class="gisthead pagehead bg-gray-light pb-0 pt-3 mb-4">
      <div class="px-0">
        <div class="mb-3 d-flex px-3 px-md-3 px-lg-5">
          <div class="flex-auto min-width-0 width-fit mr-3">
            <div class="d-flex">
              <div class="d-none d-md-block">
                <a class="avatar mr-2 flex-shrink-0" href="https://joungsik.github.io/">
                  <img class=" avatar-user"
                    src="https://avatars.githubusercontent.com/u/6128807?v=4"
                    width="32" height="32"></a>
              </div>
              <div class="d-flex flex-column">
                <h1 class="break-word f3 text-normal mb-md-0 mb-1">
                  <span class="author">
                    <a href="https://joungsik.github.io/">JoungSik</a></span><span
                    class="path-divider">/</span><strong class="css-truncate-target mr-1" style="max-width: 410px"><a
                      href="https://joungsik.github.io/post/2021_12_14/">토비의 스프링 - 2장</a></strong>
                </h1>
                <div class="note m-0">
                  Created <relative-time datetime="Tue, 14 Dec 2021 23:02:34 &#43;0900"
                    class="no-wrap">
                    Tue, 14 Dec 2021 23:02:34 &#43;0900</relative-time>

                  
                  <span class="file-info-divider"></span>
                  Modified <relative-time datetime="Mon, 10 Jan 2022 11:54:23 &#43;0900"
                    class="no-wrap">
                    Mon, 10 Jan 2022 11:54:23 &#43;0900</relative-time>
                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-lg px-3 new-discussion-timeline">
      <div class="repository-content gist-content">
        <div>
          <div class="js-gist-file-update-container js-task-list-container file-box">
            <div id="file-pytest" class="file my-2">
              <div id="post-header" class="file-header d-flex flex-md-items-center flex-items-start sticky-header" style="z-index: 2">
                <div class="file-info d-flex flex-md-items-center flex-items-start flex-order-1 flex-auto">
                  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">
                    
                    <summary id="toc-toggle" onclick="clickToc()" class="btn btn-octicon m-0 mr-2 p-2">
                      <svg aria-hidden="true" viewBox="0 0 16 16" height="16" width="16" class="octicon octicon-list-unordered">
                        <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
                      </svg>
                    </summary>
                    <details-menu class="SelectMenu" id="toc-details" style="display: none;">
                      <div class="SelectMenu-modal rounded-3 mt-1" style="max-height: 340px;">
                        <div class="SelectMenu-list SelectMenu-list--borderless p-2" style="overscroll-behavior: contain;" id="toc-list">
                        </div>
                      </div>
                    </details-menu>
                      1734 Words
                    

                  </div>
                  <div class="file-actions flex-order-2 pt-0">
                    
                    
                    <a class="muted-link mr-3" href="/tags/spring">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      spring
                    </a>
                    
                    
                  </div>
                </div>
              </div>


              <div class="Box-body px-5 pb-5" style="z-index: 1">
                <article class="markdown-body entry-content container-lg"><h1 id="토비의-스프링---2장">토비의 스프링 - 2장</h1>
<p>이번 장에서는 테스트에 대해 알아보겠습니다.</p>
<p>모든 개발자는 기능을 개발하고 완료되면 테스트를 합니다. 그건 기능의 개발이 완료 되었다는 체크를 위해서 입니다. 그런데 이 테스트를 하는 방법은 굉장히 여러가지 방법이 있습니다. 그 방법에는 직접 실행해보는 방법부터 테스트 코드를 작성하는 방법과 테스트 프레임워크를 사용하는 방법 등이 있는데 자신의 환경과 테스트 해야 하는 항목에 따라 선택을 하게 됩니다.</p>
<p>테스트를 하는 이유에는 기능의 완료를 체크 하는 것도 있지만 만들어진 코드에 대한 확신과 테스트 결과를 두고 내부의 코드를 유연하게 바꿀 수 있도록 도움을 주는 것도 있습니다.</p>
<p>여기서는 직접 실행하는 테스트가 아닌 테스트 프레임워크를 사용해 테스크 코드를 작성하는 방법을 최종 목표로 두고 이야기를 하려고 합니다.</p>
<hr>
<p>테스트 코드를 작성할 때 있어 테스트 할 코드의 단위를 정해야 할 필요가 있습니다.</p>
<p>스프링 MVC 를 기준으로 로그인 페이지에서 유저가 입력한 데이터를 컨트롤러가 전달 받아 모델로 데이터를 이용해 조회하고 그 결과 값을 컨트롤러가 전달받아 뷰로 보내고 뷰는 결과 값을 유저에게 전달합니다.</p>
<p>이런 일련의 과정을 하나의 단위로 정하거나 유저에게 데이터를 전달 받는 부분까지만 하나의 단위로 정하거나 모델에서 데이터를 이용해 조회해 결과 값을 내는 것 까지를 하나의 단위로 정하든 그건 테스트에 따라 다릅니다.</p>
<p>이런 단위 중 독립적으로 진행할 수 있으며 가장 작은 단위로 쪼갤 수 있는 테스트를 단위 테스트 (Unit Test) 라고 부릅니다. 대체로 메소드로 이해 할 수 있습니다. 그리고 위의 일련의 과정을 전부 수행하는 통합 테스트 (Integration Test) 도 있습니다.</p>
<p>이번 장에서는 단위 테스트를 기준으로 설명 되어 있습니다. 그리고 JUnit 라고 하는 테스트 프레임워크를 사용합니다.</p>
<p>JUnit 는 이런 단위 테스트를 진핼 할 수 있는 자바 테스트 프레임워크 입니다.</p>
<p>프레임워크이기 때문에 의존성을 주입 할 수 있는 형태로 코드를 작성하면 프레임워크가 작성된 코드를 가져가 실행하게 됩니다. 따라서 코드를 작성할 때 사용 될 수 있도록 코드를 작성하는 방법을 배워야 합니다.</p>
<p>그 방법은 <a href="https://junit.org/junit5/">공식 홈페이지</a>나 <a href="https://www.aladin.co.kr/search/wsearchresult.aspx?SearchTarget=All&amp;SearchWord=Junit+&amp;x=0&amp;y=0">별도의 책</a>이 있을 정도로 내용이 많지만 간략하게 사용하는데에는 검색만으로도 충분하니 따로 작성하지는 않겠습니다. 필요에 따라 찾아보고 적용하면 된다고 생각합니다.</p>
<hr>
<p>다음은 테스트 코드를 작성 할 떄의 주의점 입니다.</p>
<p>놓치고 가는 부분도 없지 않아 있어 주의를 하면 좋습니다.</p>
<ol>
<li>테스트 코드는 그 테스트의 의도를 명확하게 할 수 있는 네이밍을 하는게 좋다.</li>
<li>동일한 테스트를 반복적으로 했다면 그 결과 값은 매번 같아야 한다.</li>
<li>테스트는 외부 환경에 영향을 받지 말아야 하고 다른 테스트들과는 독립적으로 동작해야 한다.</li>
</ol>
<p>전체적으로 테스트는 독립적으로 실행되어 주변 환경에 영향을 받지 않으며 동일한 입력 값에는 동일한 결과 값을 내야 하며 테스트의 의도를 알 수 있는 명확한 이름을 가지고 있어야 합니다.</p>
<p>마지막으로 코드를 작성하다보면 잘 돌아가는 상황만 생각하기 때문에 실패하는 상황을 고려 해야 하는 개발자는 테스트 코드를 작성 할때도 본인이 모르는 사이에 문제가 될법한 입력 값을 피해서 입력하는 상황을 주의 해야 합니다.</p>
<hr>
<p>테스트 코드를 작성하는 방법론 중에는 TDD 라는 기법이 있습니다.</p>
<p>이는 먼저 기능에 대한 입력 값과 동작 방식, 그리고 결과 값을 머리속에서 생각하고 바로 코드를 작성 하는게 아닌 이를 테스트 코드로 표현해 작성하고 이 테스트를 통과하는 실제 코드를 작성하는 기법을 말합니다.</p>
<ol>
<li>특정 기능에 대한 입력 값, 동작 방식, 결과 값을 테스트 코드로 작성</li>
<li>해당 테스트 코드를 만족하는 실제 코드를 작성</li>
<li>테스트를 실행하며 만족하는지를 확인</li>
</ol>
<p>이 방법이 유효한 이유는 테스트 코드 자체가 기능에 대한 명세가 될 수 있다는 점과 개발이 완료된 시점에 테스트 또한 성공해야만 하기 때문에 개발자 스스로도 코드에 대한 안정감을 얻을 수 있습니다. 또한 테스트를 만들고 코드를 만드는 작업을 같이 진행하기 때문에 작성한 코드들이 많아 테스트 하기 힘들거나 귀찮아지는 점에서도 벗어나 바로 바로 진행 할 수 있게 됩니다.</p>
<p>스프링에서도 테스트를 진행 할 수는 있지만 테스트는 독립적으로 진행 할 수 있어야 하기 때문에 독립적인 환경을 구성 할 수 있는 방법이 많습니다. 그러니 방법이 없다고 생각하지 말고 찾아보길 바랍니다. 대표적으로는 @before 나 @after 같은 방식과 ioc 를 불러오는 방법도 있으니 상황에 따라 사용하면 됩니다.</p>
<p>마지막으로 테스트는 결과 값은 바뀌지 않은 채 내부 구조를 바꾸는 리펙토링을 진행할 때 반드시 라고 해도 좋을 정도로 꼭 필요한 작업이고 테스트를 통한 검증이 개발자 스스로 코드에 대한 안정감을 얻을 수 있기 때문에 꼭 진행해야 한다고 생각합니다.</p>
</article>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>
<script type="application/javascript" src='https://joungsik.github.io/js/toc.js'></script>
<link rel="stylesheet" href='https://joungsik.github.io/css/toc.css' />


  <div class="footer container-xl width-full p-responsive">
  <div
    class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mr-lg-4" href="https://joungsik.github.io/">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24">
        <path fill-rule="evenodd"
          d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
        </path>
      </svg>
    </a>
    <ul class="list-style-none d-flex flex-wrap col-12 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      
      <li class="mr-3 mr-lg-0">Theme by <a href='https://github.com/MeiK2333/github-style'>github-style</a></li>
      
    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>


</div>
</body>

<script type="application/javascript" src="https://joungsik.github.io/js/github-style.js"></script>



</html>